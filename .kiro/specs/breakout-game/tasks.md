# 実装計画

- [x] 1. BreakoutGame クラスの基本構造を作成

  - games/breakout.py ファイルを作成
  - BreakoutGame クラスを Game クラスから継承
  - initialize()、update()、finalize()メソッドの基本実装
  - _要件: 7.1, 7.2_

- [x] 2. 内部クラスの実装

- [x] 2.1 Paddle クラスを実装

  - パドルの位置管理（x 座標、Y=7 固定）
  - move_left()、move_right()メソッド実装
  - 画面端での移動制限
  - get_positions()メソッドで 3 ドットの座標取得
  - _要件: 1.1, 1.2, 1.3, 1.4, 1.5_

- [x] 2.2 Ball クラスを実装

  - ボールの位置と速度管理（x, y, vx, vy）
  - update()メソッドで位置更新
  - bounce_horizontal()、bounce_vertical()メソッド実装
  - reset_position()メソッドでパドル上配置
  - _要件: 2.1, 2.2, 2.3, 2.4, 4.1_

- [x] 2.3 Block クラスを実装

  - ブロックの位置と状態管理（x, y, is_active）
  - destroy()メソッドでブロック破壊
  - is_at_position()メソッドで位置判定
  - _要件: 3.1, 3.2, 3.3, 3.4, 3.6_

- [x] 3. ゲーム初期化処理を実装

- [x] 3.1 パドル初期配置を実装

  - パドルを画面下部中央（Y=7）に配置
  - 初期位置の計算とテスト
  - _要件: 1.5, 4.1_

- [x] 3.2 ブロック配置システムを実装

  - 上部 3 行（Y=0,1,2）に 24 個のブロック配置
  - ブロック配列の初期化
  - 各ブロックの座標設定
  - _要件: 3.1, 3.6_

- [x] 3.3 ボール初期配置を実装

  - ボールをパドル上に配置
  - 初期速度の設定
  - _要件: 2.1, 4.1_

- [x] 4. 入力処理システムを実装

- [x] 4.1 パドル操作を実装

  - ボタン A/B でのパドル左右移動
  - デバウンス処理の統合
  - 移動時の画面端制限
  - _要件: 1.1, 1.2, 1.3, 1.4_

- [x] 4.2 ゲーム再開始処理を実装

  - ゲーム終了時の両ボタン同時押し検出
  - ゲーム状態リセット処理
  - _要件: 4.5_

- [x] 5. 物理演算システムを実装

- [x] 5.1 ボール移動処理を実装

  - フレームごとの位置更新
  - 速度ベクトルによる移動計算
  - _要件: 2.2_

- [x] 5.2 壁衝突判定を実装

  - 左右壁での水平反射
  - 上壁での垂直反射
  - 下端到達でのゲームオーバー判定
  - _要件: 2.3, 2.4, 2.6_

- [x] 5.3 パドル反射システムを実装

  - パドルとボールの衝突判定
  - 反射位置による角度変化計算
  - 速度ベクトルの更新
  - _要件: 2.5_

- [x] 6. ブロック衝突システムを実装

- [x] 6.1 ブロック衝突判定を実装

  - ボールとブロックの位置比較
  - アクティブブロックのみ判定
  - 衝突時のブロック破壊処理
  - _要件: 3.4, 3.5_

- [x] 6.2 スコア管理システムを実装

  - ブロック破壊時のスコア増加
  - 7 セグメントディスプレイへの表示
  - リアルタイムスコア更新
  - _要件: 5.1, 5.2, 5.3_

- [x] 7. ゲーム状態管理を実装

- [x] 7.1 ゲーム終了条件を実装

  - 全ブロック破壊でのクリア判定
  - ボール落下でのゲームオーバー判定
  - ゲーム状態の切り替え
  - _要件: 4.2, 4.3_

- [x] 7.2 ゲーム終了表示を実装

  - クリア/ゲームオーバー時の画面表示
  - 最終スコアの表示
  - 結果表示の実装
  - _要件: 4.4, 5.4_

- [x] 8. 画面描画システムを実装

- [x] 8.1 オブジェクト描画を実装

  - パドル（緑色 3 ドット）の描画
  - ボール（オレンジ色 1 ドット）の描画
  - ブロック（赤色 1 ドット）の描画
  - _要件: 1.5, 2.1, 3.2, 3.3_

- [x] 8.2 画面更新最適化を実装

  - オブジェクト位置変化検出
  - 変化時のみ画面更新実行
  - ちらつき防止の実装
  - _要件: 6.1, 6.2, 6.3_

- [ ] 9. 統合テストとデバッグ
- [ ] 9.1 ゲームフロー統合テストを実装

  - 初期化 → プレイ → 終了の流れテスト
  - 各種衝突判定の動作確認
  - スコア表示の正確性確認
  - _要件: 全要件の統合確認_

- [ ] 9.2 パフォーマンス最適化を実装

  - 50FPS での安定動作確認
  - メモリ使用量の最適化
  - 応答性の改善
  - _要件: 6.4, 6.5_

- [ ] 10. メインゲームリストへの統合
- [ ] 10.1 code.py へのゲーム追加
  - GAME_LIST に BreakoutGame を追加
  - インポート文の追加
  - ゲーム選択インデックスの調整
  - _要件: 7.4_
